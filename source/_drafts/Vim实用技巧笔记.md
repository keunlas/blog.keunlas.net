---
title: 《Vim实用技巧》笔记整理
comments: true
tags:
  - vim
  - note
categories: 折腾
---

# 技巧1 认识 `.` 命令

`.` 命令可以让我们重复上次的修改，它是Vim中最为强大的多面手。

`.` 命令是一个微型的宏

# 技巧2 不要自我重复

执行 `$a;<Esc>` 完成在末尾插入分号的操作

但是 `A;<Esc>` 可以完成同样的操作

要减少无关的移动。

# 技巧3 以退为进

- `s` 删除光标所在的字符，并进入插入模式。
- `f{char}` 查找当前行下一个{char}所在的位置。
- `;` 重复查找上次 `f` 命令所查找的{char}。
- `,` 反向重复查找上次 `f` 命令所查找的{char}。

## 使修改可重复

例如，把 `+` 改为 `␣+␣` ，使用 `s␣+␣` 。

s 命令把两个操作合并为一个：它先删除光标下的字符，然后进入插入模式。

在删除 `+` 号后，先输入`␣+␣`，然后退出插入模式。

先后退一步，然后前进三步，这是个奇怪的小花招，看起来可能不够直接。

但这样做最大的好处是：我们可以用 . 命令重复这一修改。

## 使移动可重复

`f{char}` 命令让Vim查找下一处指定字符出现的位置，如果找到了，就直接把光标移到那里。

`;` 命令会重复查找上次 `f` 命令所查找的字符。


## 合二为一

在完成第一次修改 `+` 之后，连续输入`;.`，即可完成剩下的修改。


# 技巧4 执行、重复、回退

可重复的操作以及如何回退：

| 目的                   | 操作                  | 重复 | 回退 |
| ---------------------- | --------------------- | ---- | ---- |
| 做出修改               | {edit}                | ,    | u    |
| 行内查找下一字符       | f{char}               | ;    | ,    |
| 行内查找上一字符       | F{char}               | ;    | ,    |
| 文档查找下一处匹配项   | /pattern              | n    | N    |
| 文档查找上一处匹配项   | ?pattern              | n    | N    |
| 行内执行替换           | :s/target/replacement | &    | u    |
| 记录并执行一系列的修改 | qx{changes}q          | @x   | u    |

# 技巧5 查找并手动替换



































































































































































































































































































































































































































































